<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login — Daily Dose Coffee</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root{ --primary:#2d2a26; --accent:#c49a6c; --bg:#faf7f2; --ink:#1e1c19; --line:#e9e4da; }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:var(--ink);background:var(--bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    h1,h2,h3{font-family:"Playfair Display",serif;letter-spacing:.2px;color:var(--primary)}
    a{text-decoration:none;color:inherit}
    :focus-visible{outline:2px solid var(--accent);outline-offset:2px}

    /* NAVBAR */
    .navbar{position:fixed;top:0;left:0;right:0;height:68px;display:flex;align-items:center;justify-content:space-between;padding:0 7%;background:rgba(250,247,242,.85);backdrop-filter:saturate(180%) blur(6px);border-bottom:1px solid var(--line);z-index:1000}
    .navbar-logo a{font-family:"Playfair Display",serif;font-weight:700;font-size:1.6rem;letter-spacing:.4px;color:var(--primary)}
    .navbar-nav{list-style:none;display:flex;align-items:center;gap:1.2rem}
    .navbar-nav li a{display:inline-block;padding-bottom:2px;font-size:.98rem;color:var(--primary);border-bottom:1px solid transparent;transition:border-color .18s ease,opacity .18s ease}
    .navbar-nav li a:hover{border-color:var(--primary);opacity:.9}
    .nav-spacer{height:68px}

    /* AUTH PAGE */
    main.auth{padding:4rem 7%;display:block}
    .container{max-width:1120px;margin:0 auto}
    .form-card{max-width:420px;margin:2rem auto;background:#fff;border:1px solid var(--line);border-radius:16px;padding:2rem;box-shadow:0 10px 30px rgba(0,0,0,.04)}
    .form-title{font-size:1.6rem;margin-bottom:.25rem}
    .form-subtitle{color:#6a6258;margin-bottom:1rem}

    .alert{padding:.75rem 1rem;border-radius:10px;margin:.5rem 0}
    .alert-error{background:#fff2f2;border:1px solid #ffd6d6;color:#b42318}

    .form-grid{display:grid;grid-template-columns:1fr;gap:.75rem;margin-top:.25rem}
    .form-grid label{font-weight:600;color:var(--primary)}
    .form-grid input{height:44px;border:1px solid var(--line);border-radius:10px;padding:0 .9rem;background:#fff;color:var(--ink)}
    .form-grid input::placeholder{color:#9b9388}
    .form-grid input:focus{outline:2px solid var(--accent);outline-offset:2px}

    .btn{display:inline-block;padding:.9rem 1.6rem;border-radius:999px;border:1px solid transparent;background:var(--primary);color:#fff;font-weight:600;font-size:.98rem;letter-spacing:.2px;transition:transform .12s ease,background .18s ease,opacity .18s ease;will-change:transform}
    .btn:hover{transform:translateY(-1px);opacity:.96}
    .btn-block{display:block;width:100%}

    .form-hint{margin-top:1rem;color:#6a6258}
    .form-hint a{color:var(--primary);text-decoration:underline}

    /* FOOTER */
    .site-footer{background:#fff;border-top:1px solid var(--line);margin-top:3rem}
    .footer-inner{padding:1rem 0;text-align:center}

    /* Responsive */
    @media (max-width:992px){ .navbar{padding:0 5%} .navbar-nav{gap:.9rem;flex-wrap:wrap} }
    @media (max-width:768px){ .navbar{height:auto;padding:.8rem 5%;align-items:flex-start;gap:.8rem} .nav-spacer{height:84px} main.auth{padding:3rem 5%} }
    @media (prefers-reduced-motion:reduce){ .btn{transition:none} }
  </style>
</head>
<body>
  <!-- NAVBAR (inline, no partials) -->
  <nav class="navbar">
    <div class="navbar-logo">
      <a href="/">Daily Dose Coffee</a>
    </div>
    <ul class="navbar-nav">
      <li><a href="/">Home</a></li>
      <% if (currentUser) { %>
        <li><a href="/products">Products</a></li>
        <li><a href="/categories">Categories</a></li>
        <li><a href="/cart">Cart</a></li>
        <% if (currentUser.role === 'admin') { %>
          <li><a href="/products/add">Add Product</a></li>
        <% } %>
        <li><a href="/profile">Profile</a></li>
        <li><a href="/logout">Logout</a></li>
      <% } else { %>
        <li><a href="/login">Login</a></li>
        <li><a href="/register">Register</a></li>
      <% } %>
    </ul>
  </nav>
  <div class="nav-spacer" aria-hidden="true"></div>

  <!-- MAIN -->
  <main class="section auth" role="main">
    <div class="container">
      <div class="form-card">
        <h1 class="form-title">Welcome back</h1>
        <p class="form-subtitle">Log in to continue your Daily Dose ☕</p>

        <% if (error) { %>
          <p class="alert alert-error"><%= error %></p>
        <% } %>

        <form action="/login" method="post" class="form-grid" novalidate>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required>

          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="••••••••" required>

          <button type="submit" class="btn btn-block">Log In</button>
        </form>

        <p class="form-hint">No account? <a href="/register">Create one</a>.</p>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="muted">© <span id="year"></span> Daily Dose Coffee</div>
    </div>
  </footer>

  <script>document.getElementById('year').textContent = new Date().getFullYear()</script>
</body>
</html>
